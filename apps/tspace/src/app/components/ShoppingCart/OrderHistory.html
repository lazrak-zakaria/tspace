<!-- components/order-history/order-history.component.html -->
<div class="order-history-container">
    <div class="page-header">
      <h1>Order History</h1>
      <p>View your past orders and their status</p>
    </div>
  
    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading your orders...</p>
    </div>
  
    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-state">
      <div class="error-icon">‚ö†Ô∏è</div>
      <h3>Unable to load orders</h3>
      <p>{{ error }}</p>
      <button class="btn-retry" (click)="loadOrders()">Try Again</button>
    </div>
  
    <!-- Empty State -->
    <div *ngIf="!loading && !error && orders.length === 0" class="empty-state">
      <div class="empty-icon">üì¶</div>
      <h3>No orders yet</h3>
      <p>You haven't placed any orders with us yet.</p>
      <a routerLink="/products" class="btn-primary">Start Shopping</a>
    </div>
  
    <!-- Orders List -->
    <div *ngIf="!loading && orders.length > 0" class="orders-list">
      <div class="order-card" *ngFor="let order of orders; trackBy: trackByOrderId">
        <!-- Order Header -->
        <div class="order-header">
          <div class="order-info">
            <h3 class="order-number">
              <a [routerLink]="['/orders', order.orderNumber]" class="order-link">
                {{ order.orderNumber }}
              </a>
            </h3>
            <span class="order-date">Placed on {{ formatDate(order.orderDate) }}</span>
          </div>
          <div class="order-meta">
            <span class="order-total">${{ order.totalAmount.toFixed(2) }}</span>
            <span class="status-badge" [ngClass]="getStatusClass(order.status)">
              {{ order.status | titlecase }}
            </span>
          </div>
        </div>
  
        <!-- Order Items -->
        <div class="order-items">
          <div class="order-item" *ngFor="let item of order.items">
            <img [src]="item.image" [alt]="item.productName" class="item-image" />
            <div class="item-details">
              <h4 class="item-name">{{ item.productName }}</h4>
              <p class="item-quantity">Qty: {{ item.quantity }}</p>
              <p class="item-price">${{ item.price.toFixed(2) }}</p>
            </div>
          </div>
        </div>
  
        <!-- Order Actions -->
        <div class="order-actions">
          <button class="btn-secondary" [routerLink]="['/orders', order.orderNumber]">
            View Details
          </button>
          <button class="btn-secondary" *ngIf="order.status === 'delivered'">
            Buy Again
          </button>
          <button class="btn-secondary" *ngIf="order.status === 'delivered'">
            Return Items
          </button>
        </div>
      </div>
    </div>
  </div>